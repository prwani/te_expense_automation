/* Global Design System */
:root {
  --font-sans: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  --color-bg: #f5f7fb;
  --color-bg-alt: #ffffff;
  --color-surface: #ffffff;
  --color-border: #d9e0ea;
  --color-border-strong: #b8c2ce;
  --color-text: #1f2d3d;
  --color-text-soft: #5a6573;
  --color-primary: #2563eb;
  --color-primary-accent: #1d4ed8;
  --color-primary-fg: #ffffff;
  --color-danger: #dc2626;
  --color-danger-accent: #b91c1c;
  --color-warning: #f59e0b;
  --color-success: #16a34a;
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 14px;
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.06), 0 0 0 1px rgba(0,0,0,0.03);
  --shadow-md: 0 4px 12px -2px rgba(0,0,0,0.08), 0 2px 4px rgba(0,0,0,0.04);
  --shadow-focus: 0 0 0 3px rgba(37,99,235,0.35);
  --table-header-bg: #eef2f7;
  --gradient-accent: linear-gradient(135deg,#2563eb,#1d4ed8,#0f3fa6);
  --focus-ring: 0 0 0 2px #fff, 0 0 0 4px var(--color-primary);
  --transition-fast: 120ms cubic-bezier(.4,0,.2,1);
}

/* Dark theme */
body[data-theme='dark'] {
  --color-bg: #10151c;
  --color-bg-alt: #131b25;
  --color-surface: #1b2430;
  --color-border: #283240;
  --color-border-strong: #3a4654;
  --color-text: #f1f5f9;
  --color-text-soft: #97a4b4;
  --table-header-bg: #212d3a;
  --gradient-accent: linear-gradient(135deg,#1d4ed8,#2563eb,#3b82f6);
}

html, body {
  margin:0; padding:0; font-family: var(--font-sans); background: var(--color-bg); color: var(--color-text); -webkit-font-smoothing: antialiased;
}
body { line-height:1.42; }

.app-shell { max-width: 1320px; margin:0 auto; padding: 1.2rem 1.5rem 3rem; }

.header-bar { display:flex; align-items:center; gap:1rem; justify-content:space-between; padding:.75rem 1.1rem; background: var(--color-surface); border:1px solid var(--color-border); border-radius: var(--radius-lg); box-shadow: var(--shadow-sm); position:sticky; top:0; z-index:50; backdrop-filter:saturate(180%) blur(8px); }
.header-left { display:flex; align-items:center; gap:.85rem; }
.header-right { display:flex; align-items:center; gap:.65rem; }

.brand { font-size: 1.15rem; font-weight:600; background: var(--gradient-accent); -webkit-background-clip:text; background-clip:text; color:transparent; letter-spacing:.5px; }

.nav-inline { display:flex; gap:.75rem; flex-wrap:wrap; font-size:.82rem; }
.nav-inline a { text-decoration:none; color: var(--color-text-soft); padding:.45rem .7rem; border-radius: var(--radius-sm); border:1px solid transparent; transition: var(--transition-fast); }
.nav-inline a:hover { background: var(--color-bg-alt); color: var(--color-text); }
.nav-inline a.active { background: var(--color-primary); color: var(--color-primary-fg); }

button, .btn { font-family:inherit; font-size:.85rem; line-height:1.1; padding:.55rem .9rem; border-radius: var(--radius-sm); border:1px solid var(--color-border-strong); background: var(--color-surface); color: var(--color-text); cursor:pointer; display:inline-flex; gap:.35rem; align-items:center; font-weight:500; transition: var(--transition-fast); }
button:hover, .btn:hover { background: var(--color-bg-alt); }
button:active { transform: translateY(1px); }
button.primary { background: var(--color-primary); color: var(--color-primary-fg); border-color: var(--color-primary-accent); }
button.primary:hover { background: var(--color-primary-accent); }
button.danger { background: var(--color-danger); color:#fff; border-color: var(--color-danger-accent); }
button.danger:hover { background: var(--color-danger-accent); }
button.outline { background: transparent; }
button:focus-visible { outline:none; box-shadow: var(--shadow-focus); }

.table-wrap { background: var(--color-surface); border:1px solid var(--color-border); border-radius: var(--radius-lg); box-shadow: var(--shadow-sm); overflow:hidden; }
.table-responsive { width:100%; overflow:auto; }
.table { width:100%; border-collapse: collapse; font-size:.78rem; }
.table th { text-align:left; padding:.65rem .7rem; background: var(--table-header-bg); font-weight:600; font-size:.7rem; letter-spacing:.5px; text-transform:uppercase; position:sticky; top:0; z-index:5; }
.table td { padding:.55rem .7rem; border-top:1px solid var(--color-border); vertical-align:top; }
.table tbody tr { transition: background 90ms; }
.table tbody tr:hover { background: rgba(37,99,235,0.06); }
body[data-theme='dark'] .table tbody tr:hover { background: rgba(255,255,255,0.06); }

.badge { display:inline-block; font-size:.6rem; letter-spacing:.4px; font-weight:600; border-radius: 40px; padding:.25rem .55rem; background: var(--color-bg-alt); color: var(--color-text-soft); border:1px solid var(--color-border); }
.badge.primary { background: var(--color-primary); color: var(--color-primary-fg); border-color: var(--color-primary-accent); }
.badge.success { background: var(--color-success); color:#fff; border-color: var(--color-success); }
.badge.warning { background: var(--color-warning); color:#fff; border-color: var(--color-warning); }
.badge.danger { background: var(--color-danger); color:#fff; border-color: var(--color-danger); }

.card { background: var(--color-surface); border:1px solid var(--color-border); border-radius: var(--radius-lg); padding:1rem 1.1rem 1.3rem; box-shadow: var(--shadow-sm); position:relative; }
.card + .card { margin-top:1.25rem; }
.card h2, .card h3 { margin-top:0; font-weight:600; letter-spacing:.5px; }
.section-hint { font-size:.65rem; text-transform:uppercase; letter-spacing:.6px; font-weight:600; color: var(--color-text-soft); margin-bottom:.35rem; }
.muted { color: var(--color-text-soft); }
.small { font-size:.7rem; }

.inline-list { display:flex; gap:.5rem; align-items:center; flex-wrap:wrap; }
.toolbar { display:flex; gap:.55rem; flex-wrap:wrap; align-items:center; }
.toolbar .spacer { flex:1; }

input[type=text], input[type=date], input[type=number], select, textarea { font-family:inherit; font-size:.78rem; padding:.45rem .55rem; border:1px solid var(--color-border-strong); background: var(--color-bg-alt); border-radius: var(--radius-sm); width:100%; box-sizing:border-box; transition: var(--transition-fast); }
input:focus, select:focus, textarea:focus { outline:none; box-shadow: var(--shadow-focus); background: #fff; }
body[data-theme='dark'] input:focus, body[data-theme='dark'] select:focus, body[data-theme='dark'] textarea:focus { background: var(--color-surface); }

.checkbox-inline { display:flex; align-items:center; gap:.4rem; font-size:.7rem; }

footer.app-footer { margin-top:3rem; font-size:.65rem; color: var(--color-text-soft); text-align:center; padding:2rem 0 1rem; }

.settings-floating { border-radius: var(--radius-lg); box-shadow: var(--shadow-md); border:1px solid var(--color-border); background: var(--color-surface); }
/* Elevated settings panel overlay */
.settings-floating { z-index:600; max-height:80vh; overflow:auto; backdrop-filter: blur(6px) saturate(160%); }
.settings-floating.animate-enter { animation: panelIn .28s ease; }
@keyframes panelIn { from { opacity:0; transform: translateY(-4px) scale(.98);} to { opacity:1; transform:translateY(0) scale(1);} }


#settings-toggle { font-size:20px !important; background: var(--color-surface); width:34px; height:34px; display:flex; align-items:center; justify-content:center; border:1px solid var(--color-border); border-radius:50%; box-shadow: var(--shadow-sm); transition: var(--transition-fast); }
#settings-toggle:hover { background: var(--color-bg-alt); }

.theme-toggle { width:34px; height:34px; border-radius:50%; border:1px solid var(--color-border); background: var(--color-surface); display:flex; align-items:center; justify-content:center; cursor:pointer; font-size:15px; box-shadow: var(--shadow-sm); }
.theme-toggle:hover { background: var(--color-bg-alt); }

.progress-indeterminate { animation: progressIndeterminate 1.1s linear infinite; }
@keyframes progressIndeterminate { 0% { opacity:.3; } 50% { opacity:1; } 100% { opacity:.3; } }

.tag-pill { font-size:.55rem; padding:.25rem .5rem; background: var(--color-primary); color:#fff; border-radius: var(--radius-sm); }
.new-row td { background: #e6f7ed; }
.modified td { background: #fff1d6; }
.duplicate td { background: #e6ecff; }
body[data-theme='dark'] .new-row td { background: rgba(22,163,74,0.15); }
body[data-theme='dark'] .modified td { background: rgba(245,158,11,0.15); }
body[data-theme='dark'] .duplicate td { background: rgba(37,99,235,0.15); }

.match-score-high { background: rgba(16,185,129,0.15); }
.match-score-mid { background: rgba(245,158,11,0.18); }
.match-score-low { background: rgba(239,68,68,0.18); }

.fade-in { animation: fadeIn .4s ease; }
@keyframes fadeIn { from { opacity:0; transform: translateY(4px);} to { opacity:1; transform:translateY(0);} }

.banner { background: var(--gradient-accent); color:#fff; padding: .55rem .85rem; border-radius: var(--radius-md); font-size:.75rem; display:flex; align-items:center; gap:.6rem; box-shadow: var(--shadow-sm); }

.flex { display:flex; }
.flex-col { display:flex; flex-direction:column; }
.gap-sm { gap:.5rem; }
.gap-md { gap:1rem; }
.gap-lg { gap:1.5rem; }

hr.divider { border:none; border-top:1px solid var(--color-border); margin:1.5rem 0; }

.modal-backdrop { position:fixed; inset:0; background:rgba(15,23,42,0.55); display:flex; align-items:center; justify-content:center; z-index:500; }
.modal-panel { width:440px; max-width:90%; background: var(--color-surface); border:1px solid var(--color-border); padding:1.1rem 1.25rem 1.35rem; border-radius: var(--radius-lg); box-shadow: var(--shadow-md); }

.footer-spacer { height:40px; }

/* Scrollbars (Webkit) */
.table-responsive::-webkit-scrollbar { height:10px; }
.table-responsive::-webkit-scrollbar-track { background: transparent; }
.table-responsive::-webkit-scrollbar-thumb { background: var(--color-border); border-radius:20px; }
.table-responsive::-webkit-scrollbar-thumb:hover { background: var(--color-border-strong); }

/* Dark mode adjustments */
body[data-theme='dark'] .banner { box-shadow: 0 2px 8px rgba(0,0,0,0.4); }
